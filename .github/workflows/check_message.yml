name: Commit Message Validation

on:
  push:
    branches:
      - main

jobs:
  validate-commit-message:
    runs-on: ubuntu-latest
    
    steps:
      - name: Check Commit Message
        id: commit-message-check
        run: |
          commit_message=$(git log -1 --pretty=%B)
          if [[ ! $commit_message =~ EMB- ]]; then
            echo "::error::You need to link your pushes with Jira issues"
            exit 1
          fi
